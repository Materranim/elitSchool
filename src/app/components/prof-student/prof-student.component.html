

  <div class="content-body">
    <div class="container-fluid">
        <div class="row dashboard-container">
  <div class="accordion" id="accordionExample">
    <div class="accordion-item" *ngFor="let classe of classes; let i = index">
      <h2 class="accordion-header" id="heading{{i}}">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                [attr.data-bs-target]="'#collapse' + i" aria-expanded="false" 
                [attr.aria-controls]="'collapse' + i"> {{ niveaux[classe.idNiveau] }}
         {{ classe.nom }}
        </button>
      </h2>
      <div [id]="'collapse' + i" class="accordion-collapse collapse" 
           [attr.aria-labelledby]="'heading' + i" data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <h5>Liste des Ã©tudiants :</h5>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Nom</th>
                <th>Email</th>
                <th>Affecter Note</th>
                <th> orale</th>
                <th> note Controle</th>
                <th> note Synthese</th>

              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let student of studentsByClass[classe._id]">
                <td>  {{ student.lastName }} {{ student.firstName }}</td>
                <td>{{ student.email }}</td>
                <!-- <td>
                   
                    <button class="btn-affecter" (click)="note(student._id)">Affecter Note</button>
                    </td> -->

 
                    <td>
                      <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                          Affecter Note
                        </button>
                        <ul class="dropdown-menu">
                          <li *ngFor="let matiere of connectedUser.refMatieres">
                            <a class="dropdown-item" (click)="goToNotePage(student._id, matiere._id)">
                              {{ matiere.name }}
                            </a>
                          </li>
                        </ul>
                      </div>
                    </td>
                    

                    <!-- <td>{{ getNoteForStudent(student._id) }}</td>  -->
                    <td>{{ getNoteDetail(student._id, 'orale') }}</td>
                    <td>{{ getNoteDetail(student._id, 'noteControle') }}</td>
                    <td>{{ getNoteDetail(student._id, 'noteSynthese') }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>